<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Page Title</title>
</head>

<body>
  <script>
    function getComputerChoice() {
      let num = Math.floor(Math.random() * (3) + 1);
      let choice = "";

      switch (num) {
        case 1:
          choice = "Rock";
          break;
        case 2:
          choice = "Paper";
          break;
        case 3:
          choice = "Scissors";
          break;
        default:
          console.log("heaven help us");
      }

      return choice;

    }


    function getPlayerChoice() {
      let playerChoice = prompt("Rock, Paper or Scissors?");


      playerChoice = playerChoice.toLowerCase();
      if (playerChoice == "rock" || playerChoice == "scissors" || playerChoice == "paper") {
        return playerChoice;
      } else {
        alert("Please enter only Rock, Paper or Scissors");
      }
    }

    function game() {
      let CPU = getComputerChoice();
      let player = getPlayerChoice();


      //return 0 for CPU victories - return 1 for player victories - return 2 for ties
      if (CPU == "rock" && player == "rock") {
        return 2;
      } else if (CPU == "rock" && player == "paper") {
        return 1;
      } else if (CPU == "rock" && player == "scissors") {
        return 0;
      } else if (CPU == "paper" && player == "rock") {
        return 0;
      } else if (CPU == "paper" && player == "paper") {
        return 2;
      } else if (CPU == "paper" && player == "scissors") {
        return 1;
      } else if (CPU == "scissors" && player == "rock") {
        return 1;
      } else if (CPU == "scissors" && player == "paper") {
        return 0;
      } else if (CPU == "scissors" && player == "scissors") {
        return 2;
      }

    }


    function playRound() {
      let result = "";

      if (game() == 0) {
        winner = "CPU";
      } else if (game() == 1) {
        winner = "player";
      } else {
        result = "tie";
      }

      return result;

    }

    let cpuWins = 0;
    let playerWins = 0;
    for (i = 0; i < 6; i++) {

      if (playRound() == "player") {
        playerWins = playerWins + 1;
        console.log("Round" + i + " goes to the player;")
      } else if (playRound() == "CPU") {
        cpuWins = cpuWins + 1;
        console.log("Round " + i + " goes to the CPU!");
      } else {
        console.log("It's a tie!");
      }

      if (cpuWins > playerWins) {
        console.log("The CPU Wins! Try again!");
      } else if (playerWins > cpuWins) {
        console.log("You Win! Well done!");
      } else {
        while (cpuWins == playerWins) {
          console.log("It's a tie, play another round to determine the victor");
          playRound();
          if (cpuWins > playerWins) {
            console.log("The CPU Wins! Try again!");
          } else if (playerWins > cpuWins) {
            console.log("You Win! Well done!");
          }
        }
      }
    }






  </script>
</body>

</html>